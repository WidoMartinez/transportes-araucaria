# AGENTS.md

## ğŸ’¡ PropÃ³sito

Este documento establece **reglas y convenciones obligatorias** para agentes que colaboren en este repositorio (p. ej., Codex en VS Code). Su objetivo es mantener coherencia tÃ©cnica, de estilo y de flujo de trabajo.

---

## ğŸŒ Idioma y documentaciÃ³n

- **Todo lo que se documente debe estar en espaÃ±ol.**
- **Todos los comentarios en el cÃ³digo deben estar en espaÃ±ol.**
- Mensajes de consola, logs, descripciones de PR, issues y notas tÃ©cnicas: **en espaÃ±ol**.

---

## ğŸ“š DocumentaciÃ³n Primero (Documentation First)

- **Consultar antes de actuar**: Antes de realizar cambios o preguntas, verificar si la respuesta existe en:
  - `DOCUMENTACION_MAESTRA.md`: Para arquitectura y guÃ­as generales.
  - `GUIA_SOLUCION_PROBLEMAS.md`: Para errores conocidos (500, migraciones, auth).
- **Mantener actualizada**: Si realizas cambios que afecten flujos de trabajo, arquitectura o soluciÃ³n de problemas, **DEBES actualizar** la documentaciÃ³n correspondiente.
- **Evitar duplicidad**: No crear nuevos archivos de documentaciÃ³n si se puede actualizar uno existente. Centralizar en la DocumentaciÃ³n Maestra.

---

## ğŸ“¨ Notificaciones y pagos

- **Sistema de notificaciones por correo electrÃ³nico:** mantener **PHPMailer**. No reemplazar por otras librerÃ­as sin autorizaciÃ³n explÃ­cita.
- **Backend de pagos y demÃ¡s servicios**: se ejecutan en **Render.com**. No migrar ni modificar esta arquitectura sin aprobaciÃ³n.

---

## ğŸ›¡ï¸ Archivos y Ã¡mbitos protegidos

- **Nunca eliminar**:
  - `.github/instructions/instrucciones.instructions.md`
  - `.github/copilot-instructions.md`
- Evitar renombrar o mover archivos bajo `.github/` salvo que se solicite explÃ­citamente.

---

## ğŸ˜ PHP en Hostinger (ediciÃ³n permitida con reglas)

- **Se permite editar archivos `.php`.**
- **Regla de comentario obligatorio:** al modificar un archivo PHP, **agrega al inicio** del archivo (o del bloque modificado) un comentario indicando que **este archivo se sube manualmente a Hostinger**.
  - Ejemplo (PHP):
    ```php
    <?php
    // AVISO: Este archivo se despliega manualmente en Hostinger (frontend y PHP en Hostinger).
    // Cualquier cambio local debe subirse manualmente al servidor.
    ```
- **No automatizar el despliegue de archivos PHP** desde este repositorio salvo aprobaciÃ³n explÃ­cita.
- **No introducir dependencias o rutas** que asuman un entorno distinto al de Hostinger sin validaciÃ³n previa.

---

## ğŸ§­ PolÃ­tica de ediciÃ³n y alcance de cambios

- Realizar cambios **mÃ­nimos y acotados** al alcance de la solicitud.
- Mantener compatibilidad con la infraestructura actual (**Hostinger + Render.com + PHPMailer**).
- Antes de introducir dependencias, verificar si ya existe una soluciÃ³n interna.
- Preferir configuraciÃ³n y utilidades ya presentes en el repo.

---

## âœ… Flujo de commits (confirmaciÃ³n requerida)

- **Siempre preguntar si se necesita hacer un commit.**
- Si la respuesta es afirmativa, **sugerir un mensaje de commit en espaÃ±ol**, **abreviado y conciso**, en formato:
  - `tipo: resumen breve en espaÃ±ol`
  - Ejemplos de `tipo`: `feat`, `fix`, `docs`, `chore`, `refactor`, `test`, `ci`.
- Incluir, si corresponde, un cuerpo (opcional) de 1â€“2 lÃ­neas con el â€œpor quÃ©â€ del cambio.
- **Nunca realizar commits sin confirmaciÃ³n previa.**

> **Plantilla de mensaje de commit sugerido (ejemplo)**  
> `docs: alinear comentarios y documentaciÃ³n al espaÃ±ol`
>
> Cuerpo opcional (si aplica):  
> `Ajusta comentarios y README para cumplir la polÃ­tica de idioma.`

---

## ğŸ”€ Pull Requests (PR) en espaÃ±ol

- **Todos los PR deben generarse en espaÃ±ol (todos los campos posibles).**
- Plantilla sugerida para la descripciÃ³n del PR:
  1. **Resumen breve:** Â¿QuÃ© cambia y por quÃ©?
  2. **Tipo de cambio:** `feat | fix | docs | chore | refactor | test | ci`
  3. **Detalles tÃ©cnicos:** decisiones y consideraciones.
  4. **Impacto en infraestructura:** Render.com / Hostinger / PHPMailer (si aplica).
  5. **Pruebas realizadas:** comandos y resultados.
  6. **Checklist:**
     - [ ] No se eliminaron archivos protegidos en `.github/`
     - [ ] DocumentaciÃ³n y comentarios en espaÃ±ol
     - [ ] Se respeta PHPMailer y Render.com
     - [ ] Si hubo cambios en PHP, **archivo(s) comentado(s) con aviso de despliegue manual en Hostinger**
  7. **Notas de despliegue:** pasos si son necesarios.
  8. **Screenshots / evidencia (opcional)**

---

## ğŸ§ª Pruebas y validaciÃ³n (si aplica)

- AÃ±adir o actualizar pruebas relevantes al cambio.
- Documentar cÃ³mo reproducir localmente (comandos o pasos).
- No introducir _breaking changes_ sin aviso explÃ­cito.

---

## ğŸ”’ Seguridad y datos sensibles

- No exponer secretos en cÃ³digo, commits ni PR.
- Mantener variables sensibles en los mecanismos ya definidos (env/secret managers del proyecto).

---

## ğŸš« Acciones que NO debes realizar

- Eliminar los archivos protegidos listados en **Archivos y Ã¡mbitos protegidos**.
- Migrar el sistema de notificaciones fuera de **PHPMailer**.
- Cambiar la plataforma de ejecuciÃ³n del backend fuera de **Render.com**.
- Generar PR o commits en idioma distinto al espaÃ±ol.
- Automatizar despliegues a Hostinger sin aprobaciÃ³n (los **PHP se suben manualmente**).

---

## ğŸ“ Estilo de cÃ³digo y comentarios

- Comentarios claros, en espaÃ±ol, explicando _por quÃ©_ y no solo _quÃ©_.
- Seguir las guÃ­as de estilo del lenguaje correspondiente en este repo.
- Mantener consistencia con las convenciones existentes.

---

## ğŸ§° Notas para agentes

- Antes de iniciar, **leer este AGENTS.md** y revisar `.github/` para polÃ­ticas adicionales.
- **CRÃTICO:** Siempre consultar `DOCUMENTACION_MAESTRA.md` y `GUIA_SOLUCION_PROBLEMAS.md` como contexto antes de proponer soluciones, especialmente ante errores de backend o despliegue.
- Cuando completes una tarea:
  1. **Pregunta si se requiere commit.**
  2. Si la respuesta es sÃ­, **sugiere un mensaje de commit breve en espaÃ±ol** (ver formato).
  3. Ofrece crear un **PR en espaÃ±ol** usando la plantilla indicada.
